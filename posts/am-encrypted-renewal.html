<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Am Encrypted! - Renewal</title>
        <link rel="stylesheet" href="../css/default.css" />
        <link rel="stylesheet" href="../css/custom.css" />
        <link rel="stylesheet" href="https://use.typekit.net/jrr7jdg.css">
    </head>
    <body>
        <header>
            <div class="page-width">
                <a href="../">
                    <div class="site-logo">
                        kaushikc.Org
                    </div>
                </a>
                <nav>
                    <div class="main-menu-container">
                        <ul class="menu">
                            <li class="menu-item">
                                <a href="../archive.html">Archive</a>
                            </li>
                            <li class="menu-item">
                                <a target="_blank" href="https://keybase.io/kaushikc">Kaushik Chakraborty</a>
                            </li>
                            <li class="menu-item">
                                <a target="_blank" href="https://micro.blog/kaychaks" rel="me">Micro</a>
                            </li>
                            <li class="menu-item">
                                <a href="../atom.xml">Feed</a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </header>

        <main role="main" class="page-width">
            <article class="post">
    <h1>
        
        <a href="../posts/am-encrypted-renewal.html">
            Am Encrypted! - Renewal
        </a>
        
        <a href="../posts/am-encrypted-renewal.html" class="link-perma">
            <span>●</span>
        </a>
    </h1>
    <div class="byline">
    <p class="date">May 30, 2016</p>
    <p class="author"><a href="../tags/encryption.html">encryption</a>, <a href="../tags/technology.html">technology</a></p>
</div>
<div class="bodycopy">
    <p>It’s been 2 renewals &amp; not a single issue till now. However in the mean time Let’s Encrypt guys have released a new tool to smoothen those few rough edges, namely - <a href="https://certbot.eff.org"><strong>certbot</strong></a>.</p>
<p>And it’s cool for renewal as well. So here’s a simple rundown:</p>
<ul>
<li>Get it</li>
</ul>
<pre><code>wget https://dl.eff.org/certbot-auto</code></pre>
<ul>
<li>Make it runnable</li>
</ul>
<pre><code>chmod a+x certbot-auto</code></pre>
<ul>
<li>Renew</li>
</ul>
<pre><code>./certbot-auto renew</code></pre>
<ul>
<li>And automate it (so that you don’t have to do it again)</li>
</ul>
<pre><code>&gt; sudo crontab -e
# check twice in a day &amp; don't forget the newline in the end
0 4 * * * ./home/ubuntu/certbot-auto renew --quiet --standalone --pre-hook &quot;service nginx stop&quot; --post-hook &quot;service nginx start&quot;
0 16 * * * ./home/ubuntu/certbot-auto renew --quiet --standalone --pre-hook &quot;service nginx stop&quot; --post-hook &quot;service nginx start&quot;
</code></pre>
<p>Cool thing is</p>
<blockquote>
<p>certificates are only renewed when they’re determined to be near expiry</p>
</blockquote>
<p>and</p>
<blockquote>
<p>The hooks will only be run if a certificate is due for renewal, so you can run this command frequently without unnecessarily stopping your webserver</p>
</blockquote>
<p>For more information on all the options mentioned above &amp; more, check out <a href="https://certbot.eff.org/docs/using.html#renewal">this nice documentation</a></p>
</div>

</article>

        </main>

        <footer class="page-width">
            <hr />
            <nav>
                <div class="menu-footer-menu-container">
                    <ul class="menu">
                        <li class="menu-item">
                            © 2018 <a target="_blank" href="https://keybase.io/kaushikc">Kaushik Chakraborty</a>
                        </li>

                        <li class="menu-item">
                            <a href="../archive.html"><strong>Archive</strong></a>
                        </li>

                        <li class="menu-item">
                            Styles influenced from <a href="https://webkit.org/blog/" target="_blank">WebKit Blog</a>
                        </li>
                        <li class="menu-item">
                            Generated via <a href="http://jaspervdj.be/hakyll" target="_blank">Hakyll</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </footer>
    </body>
</html>
